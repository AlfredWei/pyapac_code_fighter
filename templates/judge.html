{% extends 'base.html' %}

{% block meta %}
<meta http-equiv="refresh" content="2">
{% endblock meta %}

{% block content %}
{% if msg %}
<div class="row">
  <div class="col-sm-10 col-sm-offset-1">
    <div class="alert alert-success" role="alert">
      <p>{{ msg }}</p>
    </div>
  </div><!-- /.col -->
</div><!-- /.row -->
{% endif %}
<div class="row">
  <div class="col-sm-12">
    <h1>Submission History</h1>
  </div>
  {% for name, all_submissions in  results.items() %}
  <div class="col-sm-6">
    <h2>{{ name }}</h2>
    {% for result in all_submissions %}
    <div class="panel {% if result.judge == 'True' %}panel-success{% else %}panel-danger{% endif %}">
      <div class="panel-heading">
        <h3 class="panel-title">
          {% if result.judge == 'True' %}PASS{% else %}FAIL{% endif %}
          <span class="pull-right">{{ result.timestamp|round(2) }} seconds ago</span>
        </h3>
      </div>
      <div class="panel-body">
        <pre>{{ result.submit }}</pre>
      </div>
    </div>
    {% endfor %}
  </div>
  {% endfor %}
</div><!-- /.row -->
{% endblock content %}
