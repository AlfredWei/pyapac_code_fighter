{% extends 'base.html' %}

{% block css %}
<link rel="stylesheet" href="/static/libs/CodeMirror/lib/codemirror.css">
<link rel="stylesheet" href="/static/libs/CodeMirror/theme/mdn-like.css">
<style>
.CodeMirror {
  border: 1px solid #eee;
  min-height: 200px;
  height: auto;
}
</style>
{% endblock %}
{% block headjs %}
<script src="/static/libs/CodeMirror/lib/codemirror.js" type="text/javascript" charset="utf-8"></script>
<script src="/static/libs/CodeMirror/addon/edit/matchbrackets.js" type="text/javascript" charset="utf-8"></script>
<script src="/static/libs/CodeMirror/mode/python/python.js" type="text/javascript" charset="utf-8"></script>
<script src="/static/addon/mode/loadmode.js" type="text/javascript" charset="utf-8"></script>
<script src="/static/mode/clike/clike.js"type="text/javascript charset="utf-8"></script>
<script src="/static/keymap/vim.js" type="text/javascript" charset="utf-8"></script>
<script src="/static/addon/edit/matchbrackets.js" type="text/javascript" charset="utf-8"></script>
<script src="/static/addon/comment/comment.js" type="text/javascript" charset="utf-8"></script>
<script src="/static/addon/dialog/dialog.js" type="text/javascript" charset="utf-8"></script>
<script src="/static/addon/search/searchcursor.js" type="text/javascipt" charset="utf-8"></script>
<script src="/static/addon/search/search.js"type="text/javascript" charset="utf-8"></script>
<script src="/static/mode/meta.js"type="text/javscript" charset="utf-8"> </script>

{% endblock %}
{% block content %}
<div class="row">
  <div class="col-sm-10 col-sm-offset-1">
    <textarea name="code" id="code">{{ initial_code }}</textarea>
  </div><!-- /.col -->
</div><!-- /.row -->
{% endblock content %}

{% block js %}
<script>
var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
  mode: {name: "python",
    version: 3,
    singleLineStringErrors: false},
  lineNumbers: true,
  indentUnit: 4,
  matchBrackets: true,
  showCursorWhenSelecting: true,
  lineWrapping: true,
  theme: 'mdn-like',
  keyMap: "vim",
});
      var commandDisplay = document.getElementById('command-display');
      var keys = '';
      CodeMirror.on(editor, 'vim-keypress', function(key) {
        keys = keys + key;
        commandDisplay.innerHTML = keys;
      });
      CodeMirror.on(editor, 'vim-command-done', function(e) {
        keys = '';
        commandDisplay.innerHTML = keys;
      });

</script>

<p><strong>Features</strong></p>

<ul>
  <li>All common motions and operators, including text objects</li>
  <li>Operator motion orthogonality</li>
  <li>Visual mode - characterwise, linewise, blockwise</li>
  <li>Full macro support (q, @)</li>
  <li>Incremental highlighted search (/, ?, #, *, g#, g*)</li>
  <li>Search/replace with confirm (:substitute, :%s)</li>
  <li>Search history</li>
  <li>Jump lists (Ctrl-o, Ctrl-i)</li>
  <li>Key/command mapping with API (:map, :nmap, :vmap)</li>
  <li>Sort (:sort)</li>
  <li>Marks (`, ')</li>
  <li>:global</li>
  <li>Insert mode behaves identical to base CodeMirror</li>
  <li>Cross-buffer yank/paste</li>
</ul>


{% endblock %}

